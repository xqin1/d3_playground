<html>
  <head>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?1.27.1"></script>
  </head>
  <body>
    <script type="text/javascript">

var w = 960,
    h = 500;

var svg = d3.select("body").append("svg:svg")
    .attr("width", w)
    .attr("height", h);

var gradient = svg.append("svg:defs")
  .append("svg:linearGradient")
    .attr("id", "gradient")
    .attr("x1", "0%")
    .attr("y1", "0%")
    .attr("x2", "100%")
    .attr("y2", "100%")
    .attr("gradientUnits", "userSpaceOnUse")
   // .attr("spreadMethod", "pad");

gradient.append("svg:stop")
    .attr("offset", "0%")
    .attr("stop-color", "white")
    .attr("stop-opacity", 1);

gradient.append("svg:stop")
    .attr("offset", "20%")
    .attr("stop-color", "red")
    .attr("stop-opacity", 1);

svg.append("svg:rect")
    .attr("width", 240)
    .attr("height", 10)
    .style("fill", "url(#gradient)");

// var data = d3.range(20);

// var svg = d3.select("body").append("svg")
//             .attr("width", 200)
//              .attr("height", 20);;

// var minY = 10;
// var maxY = 210;

// var gradient = svg
//     .append("linearGradient")
//     .attr("y1", minY)
//     .attr("y2", maxY)
//     .attr("x1", "0")
//     .attr("x2", "0")
//     .attr("id", "gradient")
//     .attr("gradientUnits", "userSpaceOnUse")
    
// gradient
//     .append("stop")
//     .attr("offset", "0")
//     .attr("stop-color", "white")
    
// gradient
//     .append("stop")
//     .attr("offset", "0.5")
//     .attr("stop-color", "#f00")
    
    

// svg
//     //.selectAll("rect")
//    // .data(data)
//    //.enter()
//     .append("rect")
//   //  .attr("x", function(d){return d*25})
//   //  .attr("y", minY)
//     .attr("width", 120)
//     .attr("height", 10)
//     .attr("fill", "url(#gradient)");

    </script>
  </body>
</html>